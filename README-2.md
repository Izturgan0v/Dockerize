# üöÄ Docker–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ ascii-art-web

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ —É–ø–∞–∫–æ–≤–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Go** –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.  
–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥—ë—Ç–µ –ø–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ `Dockerfile`, –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –æ—á–∏—â–∞—Ç—å "–º—É—Å–æ—Ä".

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ascii-art-web/
‚îÇ‚îÄ‚îÄ ascii-art/          # –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–±–∞–Ω–Ω–µ—Ä—ã, —É—Ç–∏–ª–∏—Ç—ã)
‚îÇ‚îÄ‚îÄ styles/             # CSS-—Å—Ç–∏–ª–∏
‚îÇ‚îÄ‚îÄ templates/          # HTML-—à–∞–±–ª–æ–Ω—ã
‚îÇ‚îÄ‚îÄ main.go             # –í–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–∞ Go
‚îÇ‚îÄ‚îÄ Dockerfile          # –§–∞–π–ª –æ–ø–∏—Å–∞–Ω–∏—è –æ–±—Ä–∞–∑–∞
‚îÇ‚îÄ‚îÄ .dockerignore       # –ò—Å–∫–ª—é—á—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```

---

## üê≥ Dockerfile (—Ä–∞–∑–±–æ—Ä –ø–æ —à–∞–≥–∞–º)

```dockerfile
# 1. –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ Go –¥–ª—è —Å–±–æ—Ä–∫–∏
FROM golang:1.24.2-alpine AS builder

# 2. –°–æ–∑–¥–∞—ë–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
WORKDIR /app

# 3. –ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ go.mod (—É—Å–∫–æ—Ä—è–µ—Ç —Å–±–æ—Ä–∫—É, —Ç.–∫. –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è)
COPY go.mod ./

# 4. –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
RUN go mod download

# 5. –ö–æ–ø–∏—Ä—É–µ–º –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
COPY . .

# 6. –°–æ–±–∏—Ä–∞–µ–º –±–∏–Ω–∞—Ä–Ω–∏–∫ (CGO –æ—Ç–∫–ª—é—á—ë–Ω –¥–ª—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç–∏)
RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o ascii-art-web main.go

# ==================
# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
# ==================
FROM alpine:latest

# –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
LABEL maintainer="–í–∞—à–µ –ò–º—è <–≤–∞—à.email@example.com>"
LABEL org.opencontainers.image.source="https://github.com/yourusername/ascii-art-web-dockerize"
LABEL project.ascii-art-web.version="1.0"
LABEL org.opencontainers.image.title="ascii-art-web"
LABEL org.opencontainers.image.description="web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ASCII-–∞—Ä—Ç–∞ –Ω–∞ Go"

# –°–æ–∑–¥–∞—ë–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–≤—Ç–æ—Ä–æ–π WORKDIR —É–∂–µ –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–µ)
WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏–∑ builder-–æ–±—Ä–∞–∑–∞
COPY --from=builder /app/ascii-art-web .

# –ö–æ–ø–∏—Ä—É–µ–º —Ä–µ—Å—É—Ä—Å—ã (HTML, —Å—Ç–∏–ª–∏, –±–∞–Ω–Ω–µ—Ä—ã)
COPY templates ./templates
COPY styles ./styles
COPY ascii-art ./ascii-art

# –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç
EXPOSE 8080

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
CMD ["./ascii-art-web"]
```

---

## ‚ùì –ü–æ—á–µ–º—É –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è `WORKDIR /app`

- –ü–µ—Ä–≤—ã–π `WORKDIR /app` ‚Äî –≤ **builder-–æ–±—Ä–∞–∑–µ** (–Ω–∞ Go).  
  –ó–¥–µ—Å—å –∏–¥—ë—Ç —Å–±–æ—Ä–∫–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–∏–Ω–∞—Ä–Ω–∏–∫–∞.

- –í—Ç–æ—Ä–æ–π `WORKDIR /app` ‚Äî –≤ **—Ñ–∏–Ω–∞–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–µ** (–Ω–∞ Alpine).  
  –ó–¥–µ—Å—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≥–æ—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

–≠—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **–º–∞–ª–µ–Ω—å–∫–∏–º –∏ –±—ã—Å—Ç—Ä—ã–º**.

---

## üè∑Ô∏è –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (LABEL)

–ú—ã –¥–æ–±–∞–≤–∏–ª–∏ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–∫–∏:

```dockerfile
LABEL maintainer="–í–∞—à–µ –ò–º—è <–≤–∞—à.email@example.com>"
LABEL org.opencontainers.image.source="https://github.com/yourusername/ascii-art-web-dockerize"
LABEL project.ascii-art-web.version="1.0"
LABEL org.opencontainers.image.title="ascii-art-web"
LABEL org.opencontainers.image.description="web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ASCII-–∞—Ä—Ç–∞ –Ω–∞ Go"
```

–ó–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?  
- üìå `maintainer` ‚Äî –∫—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–æ–µ–∫—Ç.  
- üìå `source` ‚Äî –æ—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å –∏—Å—Ö–æ–¥–Ω–∏–∫–∏.  
- üìå `version` ‚Äî –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞.  
- üìå `title` ‚Äî –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞.  
- üìå `description` ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.

–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –≤ **–ø–æ–¥–¥–µ—Ä–∂–∫–µ, –ø–æ–∏—Å–∫–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**.

---

## üì¶ –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑

–ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ (–≥–¥–µ –ª–µ–∂–∏—Ç Dockerfile):

```bash
docker build -t ascii-art-web .
```

---

## üõ†Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker run -d -p 8080:8080 --name ascii-container ascii-art-web
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:  
üëâ http://localhost:8080

---

## üßπ –ö–∞–∫ —É–¥–∞–ª—è—Ç—å –º—É—Å–æ—Ä (garbage collection)

–ü–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –æ—Å—Ç–∞—é—Ç—Å—è **–Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —Ç–æ–º–∞**.  
–û—á–∏—â–∞–µ–º –≤—Å—ë –Ω–µ–Ω—É–∂–Ω–æ–µ:

```bash
# –£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune -f

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -a -f

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–æ–º–∞
docker volume prune -f

# –£–¥–∞–ª–∏—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É (–æ–ø–∞—Å–Ω–æ!)
docker system prune -a -f
```

---

## üìå .dockerignore

–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Ñ–∞–π–ª `.dockerignore`, –æ–Ω –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã:

```txt
# –ò—Å–∫–ª—é—á–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã
.git
.gitignore
*.md
*.log
*.tmp
*.swp
*.swo
*.DS_Store
node_modules
.idea
.vscode

# –ò—Å–∫–ª—é—á–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
Dockerfile
test_api.sh

# –ò—Å–∫–ª—é—á–∞–µ–º Windows-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã
*.bat
*.ps1
*.exe
Thumbs.db
desktop.ini
```

–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–∑ **–º–µ–Ω—å—à–µ –∏ —á–∏—â–µ**.

---

‚úÖ –¢–µ–ø–µ—Ä—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å Docker! üöÄ
